<!DOCTYPE html>
<html lang="pt">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;900&display=swap" rel="stylesheet"/>
    
    <title>Viabilidade</title>
  </head>

  <body>
    <div class="container">
      <div class="tuga"> <!--  ------------------- P O R T U G U Ê S ------------------- -->

      <div class="header">
        <h2>Português</h2>
      </div>

      <form id="form" class="form">
        <div class="form-control">
          <label for="nome">Nome do português</label>
          <input type="text" id="nome" />
          <i class="fas fa-exclamation-circle"></i>
          <i class="fas fa-check-circle"></i>
          <small>Mensagem de erro</small>
        </div>

        <div class="form-control">
          <label for="nasc">Nasc</label>
          <input type="date" id="nasc" placeholder="Digite seu email.." />
          <i class="fas fa-exclamation-circle"></i>
          <i class="fas fa-check-circle"></i>
          <small>Mensagem de erro</small>
        </div>

        <div class="form-control">
          <label for="local">Local</label>
          <input type="text" id="local" />
          <i class="fas fa-exclamation-circle"></i>
          <i class="fas fa-check-circle"></i>
          <small>Mensagem de erro</small>
        </div>

        <div class="form-control">
          <label for="pai">Pai</label>
          <input type="text" id="pai" />
          <i class="fas fa-exclamation-circle"></i>
          <i class="fas fa-check-circle"></i>
          <small>Mensagem de erro</small>
        </div>

        <div class="form-control">
          <label for="mae">Mãe</label>
          <input type="text" id="mae" />
          <i class="fas fa-exclamation-circle"></i>
          <i class="fas fa-check-circle"></i>
          <small>Mensagem de erro</small>
        </div>

        <button type="submit">ENVIAR</button>
      </form>
    </div>
    </div> <!--  ------------------- P O R T U G U Ê S  F I M------------------- -->

    <div class="tuga"> <!--  ------------------- F I L H O ------------------- -->

      <div class="header">
        <h2>Português</h2>
      </div>

      <form id="form" class="form">
        <div class="form-control">
          <label for="nome">Nome do português</label>
          <input type="text" id="nome" />
          <i class="fas fa-exclamation-circle"></i>
          <i class="fas fa-check-circle"></i>
          <small>Mensagem de erro</small>
        </div>

        <div class="form-control">
          <label for="nasc">Nasc</label>
          <input type="date" id="nasc" placeholder="Digite seu email.." />
          <i class="fas fa-exclamation-circle"></i>
          <i class="fas fa-check-circle"></i>
          <small>Mensagem de erro</small>
        </div>

        <div class="form-control">
          <label for="local">Local</label>
          <input type="text" id="local" />
          <i class="fas fa-exclamation-circle"></i>
          <i class="fas fa-check-circle"></i>
          <small>Mensagem de erro</small>
        </div>

        <div class="form-control">
          <label for="pai">Pai</label>
          <input type="text" id="pai" />
          <i class="fas fa-exclamation-circle"></i>
          <i class="fas fa-check-circle"></i>
          <small>Mensagem de erro</small>
        </div>

        <div class="form-control">
          <label for="mae">Mãe</label>
          <input type="text" id="mae" />
          <i class="fas fa-exclamation-circle"></i>
          <i class="fas fa-check-circle"></i>
          <small>Mensagem de erro</small>
        </div>

        <button type="submit">ENVIAR</button>
      </form>
    </div>
    </div> <!--  ------------------- F I L H O  F I M------------------- -->

    <script src="https://kit.fontawesome.com/f9e19193d6.js" crossorigin="anonymous"></script>
    <!-- script src="./scripts.js"></script -->
  </body>

<script>
  const form = document.getElementById("form");
  const username = document.getElementById("nome");
  const email = document.getElementById("email");
  const password = document.getElementById("password");
  const passwordConfirmation = document.getElementById("password-confirmation");

form.addEventListener("submit", (e) => {
  e.preventDefault();
  checkInputs();
});

function checkInputs() {
  const usernameValue = username.value;
  const emailValue = email.value;
  const passwordValue = password.value;
  const passwordConfirmationValue = passwordConfirmation.value;

  if (usernameValue === "") { setErrorFor(username, "O nome de usuário é obrigatório."); } 
  else { setSuccessFor(username);}

  if (emailValue === "") { setErrorFor(email, "O email é obrigatório."); } 
  else if (!checkEmail(emailValue)) { setErrorFor(email, "Por favor, insira um email válido."); } 
  else { setSuccessFor(email);}

  if (passwordValue === "") { setErrorFor(password, "A senha é obrigatória."); } 
  else if (passwordValue.length < 7) { setErrorFor(password, "A senha precisa ter no mínimo 7 caracteres."); } 
  else { setSuccessFor(password); }

  if (passwordConfirmationValue === "") { setErrorFor(passwordConfirmation, "A confirmação de senha é obrigatória.");} 
  else if (passwordConfirmationValue !== passwordValue) { setErrorFor(passwordConfirmation, "As senhas não conferem."); } 
  else { setSuccessFor(passwordConfirmation); }

  const formControls = form.querySelectorAll(".form-control");

  const formIsValid = [...formControls].every((formControl) => {return formControl.className === "form-control success";});

  if (formIsValid) { console.log("O formulário está 100% válido!");}
}

function setErrorFor(input, message) {
  const formControl = input.parentElement;
  const small = formControl.querySelector("small");

  // Adiciona a mensagem de erro
  small.innerText = message;

  // Adiciona a classe de erro
  formControl.className = "form-control error";
}

function setSuccessFor(input) {
  const formControl = input.parentElement;

  // Adicionar a classe de sucesso
  formControl.className = "form-control success";
}

function checkEmail(email) {
  return /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(
    email
  );
}

</script>

<style>
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
  font-family: "Poppins", sans-serif;
}

body {
  width: 100%;
  min-height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
}

.container {
  background-color: #fafafa;
  border-radius: 10px;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
  width: 300px;
  max-width: 100%;
  overflow: hidden;
}

.header {
  background-color: #eee;
  padding: 10px;
}

.form {
  padding: 20px;
}

.form-control {
  margin-bottom: 10px;
  padding-bottom: 20px;
  position: relative;
}

.form-control label {
  display: inline-block;
  margin-bottom: 5px;
}

.form-control input {
  border: 2px solid #f0f0f0;
  display: block;
  border-radius: 10px;
  font-size: 14px;
  width: 100%;
  padding: 10px;
}

.form-control i {
  position: absolute;
  top: 45px;
  right: 10px;
  visibility: hidden;
}

.form-control small {
  position: absolute;
  bottom: 0;
  left: 0;
  visibility: hidden;
}

.form button {
  background-color: #fc00ff;
  border: 2px solid #fc00ff;
  color: #fff;
  font-size: 14px;
  width: 100%;
  border-radius: 10px;
  padding: 10px;
}

/* Error and Success */
.form-control.success input {
  border-color: #2ecc71;
}

.form-control.error input {
  border-color: #e74c3c;
}

.form-control.success i.fa-check-circle {
  color: #2ecc71;
  visibility: visible;
}

.form-control.error i.fa-exclamation-circle {
  color: #e74c3c;
  visibility: visible;
}

.form-control.error small {
  visibility: visible;
  color: #e74c3c;
}

</style>  

</html>
